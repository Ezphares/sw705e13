<!doctype html>

<html>
	<head>
		<script type="text/javascript" src="{{ STATIC_URL }}js/helpers.js"></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/hexhelper.js"></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/ifygl.class.js"></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/sprite.class.js"></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/board.class.js"></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/cell.class.js"></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/food.class.js"></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/program.class.js"></script>
		<script type="text/javascript" src="{{ STATIC_URL }}js/menu.class.js"></script>
		<style>
		*
		{
			padding: 0px;
			margin: 2.5% 10%;
		}
		
		canvas
		{
			border-width: 1px;
			border-style: solid;
		}
		body {background-color:pink;}
		
		#text-render
		{
			display: none;
		}
		</style>
	</head>
	<body>
		<canvas id="game"></canvas>
		<canvas id="text-render"></canvas>
		
		<script type="text/javascript">
		gl = new IfyGL({
			canvas: 'game',
			texturepath: 'static/img/',
			shaderpath: 'static/shaders/',
			width: 640,
			height: 480
		});
		
		gl.init();
		
		var sprite_loader = [{filename: 'tile.png', frame_width: 32, frame_height: 32, origin: [8,8]},
							 {filename: 'food.png', frame_width: 16, frame_height: 16, origin: [0,0]},
							 {filename: 'cell_green.png', frame_width: 16, frame_height: 16, origin: [0,0]},
							 {filename: 'cell_red.png', frame_width: 16, frame_height: 16, origin: [0,0]},
<<<<<<< HEAD
							 {filename: 'testButton.png', frame_width: 128, frame_height: 32, origin: [64,16]},
							 {filename: 'testButton2.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'editor_button_active.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'manual_button_active.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'multiplayer_button_inactive.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'singleplayer_button_active.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'challenges_button_active.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'skirmish_button_active.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'back_arrow.png', frame_width: 32, frame_height: 32, origin: [0,0]},
							 {filename: 'new_button_active.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'inport_button_inactive.png', frame_width: 256, frame_height: 64, origin: [128,32]},
							 {filename: 'home_button.png', frame_width: 32, frame_height: 32, origin: [0,0]}
							 ];
=======
							 {filename: 'health_bar_green_start.png', frame_width: 16, frame_height: 16, origin: [0,0]},
							 {filename: 'health_bar_green_mid.png', frame_width: 16, frame_height: 16, origin: [0,0]},
							 {filename: 'health_bar_red_mid.png', frame_width: 16, frame_height: 16, origin: [0,0]},
							 {filename: 'health_bar_red_end.png', fame_width: 16, frame_height: 16, origin: [0,0]}];
>>>>>>> 0c8e53ec2c104cff6a4bb3d1083bbda112e24c66
		
		gl.load_sprites(sprite_loader, function(sprites)
		{
			var tile = sprites[0];
			var food = sprites[1];
<<<<<<< HEAD
			testButton = sprites[4];
			testButton2 = sprites[5];
			var editorb = sprites[6];
			var manualb = sprites[7];
			var multib  = sprites[8];
			var singleb = sprites[9];
			var chalb   = sprites[10];
			var skirmb  = sprites[11];
			var back    = sprites[12];
			var newb    = sprites[13];
			var inportb = sprites[14];
			var home    = sprites[15];
			var state = true;
=======
			healthbar_green_start = sprites[4];
			healthbar_green_mid = sprites[5];
			healthbar_red_mid = sprites[6];
			healthbar_red_end = sprites[7];
			
>>>>>>> 0c8e53ec2c104cff6a4bb3d1083bbda112e24c66
			
			Food.sprite = food;
			
			b = new Board(10, tile);
			f =  new Food(100, [2, 0]);
			m = new Menu(singleb, multib, manualb, editorb, tile, chalb, skirmb, back, newb, inportb, home);
			
			b.add_entity(f);
			c = new Cell([0, 0], 175, sprites[2], new Program(3), 1);
			r = new Cell([16,16], 100, sprites[3], new Program(3), 2);
			b.add_entity(c);
			b.add_entity(r);
			setInterval(function()
			{
				//b.update();
				//b.draw(gl);
				if(state){
					m.draw(gl);
				}
				else{
					m.update(2, gl);
				}
				state=!state;
			}, 1000);
		});
		
		</script>
	</body>
</html>
